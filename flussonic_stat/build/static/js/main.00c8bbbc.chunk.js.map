{"version":3,"sources":["redux/types.js","redux/actions/data-actions.js","component/rechart.js","hooks/getDate.js","component/activeTable.js","component/historyTable.js","App.js","redux/reducers/dataReducer.js","redux/reducers/statusConnectionsReducer.js","redux/reducers/rootReducer.js","index.js"],"names":["GET_DATA","GET_STATUS_CLOSED","GET_STATUS_OPENED","GET_USER_ID","statusConnectionsActions","url","fullUrl","window","location","origin","dispatch","a","axios","response","type","payload","data","closed","opened","user_id","Recharts","props","useDispatch","statData","useSelector","state","userId","statusConnections","series","name","options","chart","height","width","toolbar","show","xaxis","stroke","curve","title","text","length","align","markers","size","shape","useEffect","dataAction","token","GetDate","date","day","Date","getDate","months","getMonth","hours","getHours","minutes","getMinutes","seconds","getSeconds","ActiveTable","TableContainer","component","Paper","Table","sx","minWidth","aria-label","TableHead","TableRow","TableCell","colSpan","style","fontWeight","TableBody","map","row","border","scope","my_field","title_channel","ip","user_agent","slice","created_at","id","HistoryTable","deleted_at","App","match","params","Grid","container","spacing","item","xs","lg","initialState","rootReducer","combineReducers","action","store","createStore","compose","applyMiddleware","thunk","ReactDOM","render","exact","path","document","getElementById"],"mappings":"mNAAaA,EAAW,WACXC,EAAoB,oBACpBC,EAAoB,oBACpBC,EAAc,c,iBCqBdC,EAA2B,SAACC,GAQrC,IAAMC,GANyB,0BAA3BC,OAAOC,SAASC,QAAiE,0BAA3BF,OAAOC,SAASC,OAC5D,mDAEAF,OAAOC,SAASC,OAAS,+BAGbJ,EAE1B,8CAAO,WAAMK,GAAN,eAAAC,EAAA,+EAEwBC,IAAMN,GAF9B,OAEOO,EAFP,OAGCH,EAAS,CAACI,KAAMb,EAAmBc,QAASF,EAASG,KAAKC,SAC1DP,EAAS,CAACI,KAAMZ,EAAmBa,QAASF,EAASG,KAAKE,SAC1DR,EAAS,CAACI,KAAMX,EAAaY,QAASF,EAASG,KAAKG,UALrD,gDAOCT,EAAS,CAACI,KAAMb,EAAmBc,QAAS,KAC5CL,EAAS,CAACI,KAAMZ,EAAmBa,QAAS,KAC5CL,EAAS,CAACI,KAAMX,EAAaY,QAAS,KATvC,yDAAP,uDCqBWK,MAlDf,SAAkBC,GAEd,IAAMX,EAAWY,cACXC,EAAWC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,SAASP,QAC/CU,EAASF,aAAY,SAAAC,GAAK,OAAIA,EAAME,kBAAkBR,WAEtDM,EAAQ,CAEVG,OAAQ,CACJ,CACIC,KAAM,SACNb,KAAMO,IAGdO,QAAS,CACLC,MAAO,CACHC,OAAQ,IACRC,MAAO,OACPnB,KAAM,OACNoB,QAAS,CACLC,MAAM,IAGdC,MAAO,CACHtB,KAAM,YAEVuB,OAAQ,CACJC,MAAO,SACPL,MAAO,GAEXM,MAAO,CACHC,KAAMd,EAAOe,OAAS,EAAI,2BAA6Bf,EAAO,GAAGP,QAAU,qBAC3EuB,MAAO,QAEXC,QAAS,CACLC,KAAM,EACNC,MAAO,YASnB,OAJAC,qBAAU,WACNpC,ED1CkB,SAACL,GAQvB,IAAMC,GANyB,0BAA3BC,OAAOC,SAASC,QAAiE,0BAA3BF,OAAOC,SAASC,OAC5D,8BAEAF,OAAOC,SAASC,OAAS,UAGbJ,EAC1B,8CAAO,WAAMK,GAAN,eAAAC,EAAA,+EAEwBC,IAAMN,GAF9B,OAEOO,EAFP,OAGCH,EAAS,CAACI,KAAMd,EAAUe,QAASF,EAASG,OAH7C,gDAKCN,EAAS,CAACI,KAAMd,EAAUe,QAAS,KALpC,yDAAP,sDCiCagC,CAAW1B,EAAM2B,UAC3B,IAGC,cAAC,IAAD,CAAgBlB,QAASL,EAAMK,QAASF,OAAQH,EAAMG,OAAQd,KAAK,OAAOkB,OAAQ,O,+DCvC3EiB,EAZC,SAACC,GACb,IAAMC,EAAM,IAAIC,KAAKF,GAAMG,UACrBC,EAAS,IAAIF,KAAKF,GAAMK,WAAa,EACrCC,EAAQ,IAAIJ,KAAKF,GAAMO,WACvBC,EAAU,IAAIN,KAAKF,GAAMS,aACzBC,EAAU,IAAIR,KAAKF,GAAMW,aAE/B,MAAM,GAAN,OACOL,EADP,YACgBE,EADhB,YAC2BE,EAD3B,YACsCT,EADtC,YAC6CG,ICwDlCQ,MA1Df,SAAqBzC,GAEjB,IAAMX,EAAWY,cACXC,EAAWC,aAAY,SAAAC,GAAK,OAAIA,EAAME,kBAAkBT,UAM9D,OAJA4B,qBAAU,WACNpC,EAASN,EAAyBiB,EAAM2B,UACzC,IAGC,cAACe,EAAA,EAAD,CAAgBC,UAAWC,IAA3B,SACI,eAACC,EAAA,EAAD,CAAOC,GAAI,CAACC,SAAU,KAAMxB,KAAK,QAAQyB,aAAW,gBAApD,UACI,eAACC,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,UACI,cAACC,EAAA,EAAD,CAAW9B,MAAM,SAAS+B,QAAS,EAAGC,MAAO,CAAEC,WAAY,KAA3D,kCAIJ,eAACJ,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,yBACA,cAACA,EAAA,EAAD,CAAW9B,MAAM,QAAjB,kBACA,cAAC8B,EAAA,EAAD,CAAW9B,MAAM,QAAjB,gBACA,cAAC8B,EAAA,EAAD,CAAW9B,MAAM,QAAjB,wBACA,cAAC8B,EAAA,EAAD,CAAW9B,MAAM,QAAjB,yBAGR,cAACkC,EAAA,EAAD,UAEQrD,EAASkB,OAAS,EACdlB,EAASsD,KAAI,SAACC,GAAD,OACT,eAACP,EAAA,EAAD,CAEIJ,GAAI,CAAC,mCAAoC,CAACY,OAAQ,IAFtD,UAII,cAACP,EAAA,EAAD,CAAWR,UAAU,KAAKgB,MAAM,MAAhC,SACKF,EAAIG,SAASC,gBAElB,cAACV,EAAA,EAAD,CAAW9B,MAAM,QAAjB,SAA0BoC,EAAIhE,OAC9B,cAAC0D,EAAA,EAAD,CAAW9B,MAAM,QAAjB,SAA0BoC,EAAIK,KAC9B,cAACX,EAAA,EAAD,CAAW9B,MAAM,QAAjB,SACIoC,EAAIM,WAAW3C,OAAS,GAAKqC,EAAIM,WAAWC,MAAM,EAAG,IAAM,MAAQP,EAAIM,aAE3E,cAACZ,EAAA,EAAD,CAAW9B,MAAM,QAAjB,SACIO,EAAQ6B,EAAIQ,gBAZXR,EAAIS,OAerB,cAAChB,EAAA,EAAD,UACI,cAACC,EAAA,EAAD,CAAW9B,MAAM,SAAS+B,QAAS,EAAnC,+BCYbe,MA3Df,SAAsBnE,GAElB,IAAMX,EAAWY,cACXC,EAAWC,aAAY,SAAAC,GAAK,OAAIA,EAAME,kBAAkBV,UAM9D,OAJA6B,qBAAU,WACNpC,EAASN,EAAyBiB,EAAM2B,UACzC,IAGC,cAACe,EAAA,EAAD,CAAgBC,UAAWC,IAA3B,SACI,eAACC,EAAA,EAAD,CAAOC,GAAI,CAACC,SAAU,KAAMxB,KAAK,QAAQyB,aAAW,mBAApD,UACI,eAACC,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,UACI,cAACC,EAAA,EAAD,CAAW9B,MAAM,SAAS+B,QAAS,EAAGC,MAAO,CAAEC,WAAY,KAA3D,mCAIJ,eAACJ,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,yBACA,cAACA,EAAA,EAAD,CAAW9B,MAAM,QAAjB,kBACA,cAAC8B,EAAA,EAAD,CAAW9B,MAAM,QAAjB,gBACA,cAAC8B,EAAA,EAAD,CAAW9B,MAAM,QAAjB,wBACA,cAAC8B,EAAA,EAAD,CAAW9B,MAAM,QAAjB,uBAGR,cAACkC,EAAA,EAAD,UAEQrD,EAASkB,OAAS,EACdlB,EAASsD,KAAI,SAACC,GAAD,OACT,eAACP,EAAA,EAAD,CAEIJ,GAAI,CAAC,mCAAoC,CAACY,OAAQ,IAFtD,UAII,cAACP,EAAA,EAAD,CAAWR,UAAU,KAAKgB,MAAM,MAAhC,SACKF,EAAIG,SAASC,gBAElB,cAACV,EAAA,EAAD,CAAW9B,MAAM,QAAjB,SAA0BoC,EAAIhE,OAC9B,cAAC0D,EAAA,EAAD,CAAW9B,MAAM,QAAjB,SAA0BoC,EAAIK,KAC9B,cAACX,EAAA,EAAD,CAAW9B,MAAM,QAAjB,SACIoC,EAAIM,WAAW3C,OAAS,GAAKqC,EAAIM,WAAWC,MAAM,EAAG,IAAM,MAAQP,EAAIM,aAE3E,cAACZ,EAAA,EAAD,CAAW9B,MAAM,QAAjB,SACIO,EAAQ6B,EAAIW,gBAZXX,EAAIS,OAgBjB,cAAChB,EAAA,EAAD,UACI,cAACC,EAAA,EAAD,CAAW9B,MAAM,SAAS+B,QAAS,EAAnC,+B,SC/BjBiB,MAjBf,SAAarE,GACT,IAAM2B,EAAQ3B,EAAMsE,MAAMC,OAAO5E,KACjC,OACI,qCACI,cAAC,EAAD,CAAUgC,MAAOA,IACjB,eAAC6C,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACI,cAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACI,cAAC,EAAD,CAAalD,MAAOA,MAExB,cAAC6C,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACI,cAAC,EAAD,CAAclD,MAAOA,a,+BCdnCmD,EAAe,CACjBnF,KAAM,ICDJmF,EAAe,CACjBlF,OAAQ,GACRC,OAAQ,GACRC,QAAS,ICDCiF,EAAcC,YAAgB,CACxC9E,SFCuB,WAAmC,IAAlCE,EAAiC,uDAAzB0E,EAAcG,EAAW,uCACzD,OAAQA,EAAOxF,MACX,KAAKd,EACD,OAAO,2BACAyB,GADP,IACcT,KAAMsF,EAAOvF,UAE/B,QACI,OAAOU,IEPfE,kBDG6B,WAAmC,IAAlCF,EAAiC,uDAAzB0E,EAAcG,EAAW,uCAC/D,OAAQA,EAAOxF,MACX,KAAKb,EACD,OAAO,2BACAwB,GADP,IACcR,OAAQqF,EAAOvF,UAEjC,KAAKb,EACD,OAAO,2BACAuB,GADP,IACcP,OAAQoF,EAAOvF,UAEjC,KAAKZ,EACD,OAAO,2BACAsB,GADP,IACcN,QAASmF,EAAOvF,UAElC,QACI,OAAOU,MEdb8E,EAAQC,YAAYJ,EAAaK,YACnCC,YACIC,OAIRC,IAASC,OACL,cAAC,IAAD,CAAUN,MAAOA,EAAjB,SACI,cAAC,IAAD,UACI,cAAC,IAAD,UACI,cAAC,IAAD,CAAOO,OAAK,EAACC,KAAK,SAAS/C,UAAW0B,UAIpDsB,SAASC,eAAe,W","file":"static/js/main.00c8bbbc.chunk.js","sourcesContent":["export const GET_DATA = 'GET_DATA'\nexport const GET_STATUS_CLOSED = 'GET_STATUS_CLOSED'\nexport const GET_STATUS_OPENED = 'GET_STATUS_OPENED'\nexport const GET_USER_ID = 'GET_USER_ID'\n","import {GET_DATA, GET_STATUS_CLOSED, GET_STATUS_OPENED, GET_USER_ID} from \"../types\";\nimport axios from \"axios\";\n\nlet baseUrl = ''\n\nexport const dataAction = (url) => {\n\n    if (window.location.origin === 'http://localhost:3000' || window.location.origin === 'http://127.0.0.1:3000') {\n        baseUrl = 'http://localhost:8000/stat/'\n    } else {\n        baseUrl = window.location.origin + '/stat/'\n    }\n\n    const fullUrl = baseUrl + url\n    return async dispatch => {\n        try {\n            const response = await axios(fullUrl)\n            dispatch({type: GET_DATA, payload: response.data})\n        } catch (e) {\n            dispatch({type: GET_DATA, payload: []})\n        }\n    }\n}\n\nexport const statusConnectionsActions = (url) => {\n\n    if (window.location.origin === 'http://localhost:3000' || window.location.origin === 'http://127.0.0.1:3000') {\n        baseUrl = 'http://localhost:8000/notify_session/forrechart/'\n    } else {\n        baseUrl = window.location.origin + '/notify_session/forrechart/'\n    }\n\n    const fullUrl = baseUrl + url\n\n    return async dispatch => {\n        try {\n            const response = await axios(fullUrl)\n            dispatch({type: GET_STATUS_CLOSED, payload: response.data.closed})\n            dispatch({type: GET_STATUS_OPENED, payload: response.data.opened})\n            dispatch({type: GET_USER_ID, payload: response.data.user_id})\n        } catch (e) {\n            dispatch({type: GET_STATUS_CLOSED, payload: []})\n            dispatch({type: GET_STATUS_OPENED, payload: []})\n            dispatch({type: GET_USER_ID, payload: []})\n        }\n    }\n\n}","import React, {useEffect} from 'react';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport ReactApexChart from 'react-apexcharts'\nimport {dataAction} from \"../redux/actions/data-actions\";\n\nfunction Recharts(props) {\n\n    const dispatch = useDispatch()\n    const statData = useSelector(state => state.statData.data)\n    const userId = useSelector(state => state.statusConnections.user_id)\n\n    const state = {\n\n        series: [\n            {\n                name: \"Online\",\n                data: statData\n            }\n        ],\n        options: {\n            chart: {\n                height: 380,\n                width: \"100%\",\n                type: \"area\",\n                toolbar: {\n                    show: false\n                }\n            },\n            xaxis: {\n                type: 'datetime'\n            },\n            stroke: {\n                curve: 'smooth',\n                width: 1,\n            },\n            title: {\n                text: userId.length > 0 ? 'Connections for user -- ' + userId[0].user_id : 'User not indefined',\n                align: 'left'\n            },\n            markers: {\n                size: 0,\n                shape: 'square'\n            }\n        }\n    }\n\n    useEffect(() => {\n        dispatch(dataAction(props.token))\n    }, [])\n\n    return (\n        <ReactApexChart options={state.options} series={state.series} type=\"line\" height={350} />\n    );\n}\n\nexport default Recharts;\n","const GetDate = (date) => {\n    const day = new Date(date).getDate()\n    const months = new Date(date).getMonth() + 1\n    const hours = new Date(date).getHours()\n    const minutes = new Date(date).getMinutes()\n    const seconds = new Date(date).getSeconds()\n\n    return (\n        `${hours}:${minutes}:${seconds} ${day}/${months}`\n    )\n}\n\nexport default GetDate","import React, {useEffect} from 'react';\nimport {Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow} from \"@mui/material\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {statusConnectionsActions} from \"../redux/actions/data-actions\";\nimport GetDate from \"../hooks/getDate\";\n\nfunction ActiveTable(props) {\n\n    const dispatch = useDispatch()\n    const statData = useSelector(state => state.statusConnections.opened)\n\n    useEffect(() => {\n        dispatch(statusConnectionsActions(props.token))\n    }, [])\n\n    return (\n        <TableContainer component={Paper}>\n            <Table sx={{minWidth: 650}} size=\"small\" aria-label=\"a dense table\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell align=\"center\" colSpan={5} style={{ fontWeight: 600 }}>\n                            Active Connections\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell>Id Channel</TableCell>\n                        <TableCell align=\"right\">Type</TableCell>\n                        <TableCell align=\"right\">Ip</TableCell>\n                        <TableCell align=\"right\">User Agent</TableCell>\n                        <TableCell align=\"right\">Start</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {\n                        statData.length > 0 ?\n                            statData.map((row) => (\n                                <TableRow\n                                    key={row.id}\n                                    sx={{'&:last-child td, &:last-child th': {border: 0}}}\n                                >\n                                    <TableCell component=\"th\" scope=\"row\">\n                                        {row.my_field.title_channel}\n                                    </TableCell>\n                                    <TableCell align=\"right\">{row.type}</TableCell>\n                                    <TableCell align=\"right\">{row.ip}</TableCell>\n                                    <TableCell align=\"right\">{\n                                        row.user_agent.length > 30 ? row.user_agent.slice(0, 30) + '...' : row.user_agent\n                                    }</TableCell>\n                                    <TableCell align=\"right\">{\n                                        GetDate(row.created_at)\n                                    }</TableCell>\n                                </TableRow> )) :\n                        <TableRow>\n                            <TableCell align=\"center\" colSpan={5}>\n                                No Data\n                            </TableCell>\n                        </TableRow>\n                    }\n                </TableBody>\n            </Table>\n        </TableContainer>\n    );\n}\n\nexport default ActiveTable;","import React, {useEffect} from 'react';\nimport {Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow} from \"@mui/material\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {statusConnectionsActions} from \"../redux/actions/data-actions\";\nimport GetDate from \"../hooks/getDate\";\n\nfunction HistoryTable(props) {\n\n    const dispatch = useDispatch()\n    const statData = useSelector(state => state.statusConnections.closed)\n\n    useEffect(() => {\n        dispatch(statusConnectionsActions(props.token))\n    }, [])\n\n    return (\n        <TableContainer component={Paper}>\n            <Table sx={{minWidth: 650}} size=\"small\" aria-label=\"customized table\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell align=\"center\" colSpan={5} style={{ fontWeight: 600 }}>\n                            History Connections\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell>Id Channel</TableCell>\n                        <TableCell align=\"right\">Type</TableCell>\n                        <TableCell align=\"right\">Ip</TableCell>\n                        <TableCell align=\"right\">User Agent</TableCell>\n                        <TableCell align=\"right\">End</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {\n                        statData.length > 0 ?\n                            statData.map((row) => (\n                                <TableRow\n                                    key={row.id}\n                                    sx={{'&:last-child td, &:last-child th': {border: 0}}}\n                                >\n                                    <TableCell component=\"th\" scope=\"row\">\n                                        {row.my_field.title_channel}\n                                    </TableCell>\n                                    <TableCell align=\"right\">{row.type}</TableCell>\n                                    <TableCell align=\"right\">{row.ip}</TableCell>\n                                    <TableCell align=\"right\">{\n                                        row.user_agent.length > 30 ? row.user_agent.slice(0, 30) + '...' : row.user_agent\n                                    }</TableCell>\n                                    <TableCell align=\"right\">{\n                                        GetDate(row.deleted_at)\n                                    }</TableCell>\n                                </TableRow>\n                            )) :\n                            <TableRow>\n                                <TableCell align=\"center\" colSpan={5}>\n                                    No Data\n                                </TableCell>\n                            </TableRow>\n                    }\n                </TableBody>\n            </Table>\n        </TableContainer>\n    );\n}\n\nexport default HistoryTable;","import React from 'react';\nimport Recharts from \"./component/rechart\";\nimport ActiveTable from \"./component/activeTable\";\nimport HistoryTable from \"./component/historyTable\";\nimport Grid from '@mui/material/Grid';\n\nfunction App(props) {\n    const token = props.match.params.data\n    return (\n        <>\n            <Recharts token={token}/>\n            <Grid container spacing={1}>\n                <Grid item xs={12} lg={6}>\n                    <ActiveTable token={token}/>\n                </Grid>\n                <Grid item xs={12} lg={6}>\n                    <HistoryTable token={token}/>\n                </Grid>\n            </Grid>\n        </>\n    )\n}\n\nexport default App;\n","import {GET_DATA} from \"../types\";\n\nconst initialState = {\n    data: []\n}\n\nexport const dataReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case GET_DATA:\n            return {\n                ...state, data: action.payload\n            }\n        default:\n            return state\n    }\n}\n","import {GET_STATUS_CLOSED, GET_STATUS_OPENED, GET_USER_ID} from \"../types\";\n\nconst initialState = {\n    closed: [],\n    opened: [],\n    user_id: [],\n\n}\n\nexport const statusConnections = (state = initialState, action) => {\n    switch (action.type) {\n        case GET_STATUS_CLOSED:\n            return {\n                ...state, closed: action.payload\n            }\n        case GET_STATUS_OPENED:\n            return {\n                ...state, opened: action.payload\n            }\n        case GET_USER_ID:\n            return {\n                ...state, user_id: action.payload\n            }\n        default:\n            return state\n    }\n}","import {combineReducers} from \"redux\";\nimport {dataReducer} from \"./dataReducer\";\nimport {statusConnections} from \"./statusConnectionsReducer\";\n\nexport  const rootReducer = combineReducers({\n    statData: dataReducer,\n    statusConnections: statusConnections\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from \"react-redux\";\nimport {applyMiddleware, compose, createStore} from \"redux\";\nimport App from './App';\n\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom'\nimport thunk from \"redux-thunk\";\nimport {rootReducer} from \"./redux/reducers/rootReducer\";\n\nconst store = createStore(rootReducer, compose(\n    applyMiddleware(\n        thunk\n    )\n))\n\nReactDOM.render(\n    <Provider store={store}>\n        <Router>\n            <Switch>\n                <Route exact path='/:data' component={App} />\n            </Switch>\n        </Router>\n    </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}